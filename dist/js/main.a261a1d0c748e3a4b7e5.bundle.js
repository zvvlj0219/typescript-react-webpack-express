"use strict";(self.webpackChunktypescript_react_webpack_express=self.webpackChunktypescript_react_webpack_express||[]).push([[179],{6367:(e,r,t)=>{var n=t(7294),s=t(3935),o=t(9711),c=t(5800),i=t(6974);const a=(0,n.createContext)({hasError:!1,errorMessage:null,error:null,setContextError:function(){return{}},setCotextErrorDone:function(){return{}}});const u=function(){var e=(0,n.useContext)(a),r=e.setContextError;if(void 0===e)throw new Error("useError must be used within a ErrorProvider");return{context:e,customErrorThrow:function(e){var t=e;return t.response&&400===t.response.status?{message:t.response.data.message}:e instanceof Error?(r(e.message,e),{message:"".concat(e.name,"_").concat(e.message)}):{message:"inValid error"}}}};var l=t(5893);const p=function(e){var r=e.error,t=e.resetErrorBoundary,s=u().context,o=s.hasError,c=s.setContextError,a=s.setCotextErrorDone,p=(0,i.s0)();return(0,n.useEffect)((function(){c(r.message,r)}),[c,r]),o&&window.location.reload(),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:"Error Message"}),(0,l.jsx)("h2",{children:r.name}),(0,l.jsx)("h2",{children:r.message}),(0,l.jsx)("button",{onClick:function(){t(),a(),p("/")},type:"button",children:"Try again"})]})};var d=t(8152),h=t(5697),x=t.n(h),j=function(e){var r=e.children,t=(0,n.useState)(!1),s=(0,d.Z)(t,2),o=s[0],c=s[1],i=(0,n.useState)(null),u=(0,d.Z)(i,2),p=u[0],h=u[1],x=(0,n.useState)(null),j=(0,d.Z)(x,2),f=j[0],v=j[1],y=function(e,r){h(e),v(r),c(!0)},b=function(){h(null),v(null),c(!1)},g=(0,n.useMemo)((function(){return{hasError:o,errorMessage:p,error:f,setContextError:y,setCotextErrorDone:b}}),[o,p,f]);return(0,l.jsx)(a.Provider,{value:g,children:r})};j.defaultProps={children:{}},j.propTypes={children:x().node};const f=j;const v=function(){return(0,l.jsx)("h1",{children:"typescript react weback express v4/12!!"})};var y=t(4942),b=t(5439);function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){(0,y.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var E="INCREMENT_COUNT",k="DECREMENT_COUNT",C=function(e,r){switch(r.type){case E:return{count:e.count+1};case k:return{count:e.count-2};default:return e}},O={count:0},w=(0,n.createContext)({});const P=function(){var e=(0,n.useReducer)(C,O),r=(0,d.Z)(e,2),t=r[0],s=r[1],o={width:"60px",height:"30px",fontSize:"20px"},c=(0,n.useMemo)((function(){return{state:t,dispatch:s}}),[t]);return(0,l.jsx)("div",{children:(0,l.jsxs)(w.Provider,{value:c,children:[(0,l.jsx)("h1",{children:"hooks"}),(0,l.jsx)("button",{type:"button",style:m(m({},o),{},{marginLeft:"30px"}),onClick:function(){s({type:E})},children:"+"}),(0,l.jsx)("p",{children:t.count}),(0,l.jsx)("button",{type:"button",style:o,onClick:function(){s({type:k})},children:"-"}),(0,l.jsx)("hr",{}),(0,l.jsx)("img",{src:b,alt:""})]})})};var Z=t(5861),S=t(7757),T=t.n(S),_=t(9669),D=t.n(_)().create({baseURL:"https://ts-react-heroku.herokuapp.com"});const M=function(){var e=(0,n.useState)(""),r=(0,d.Z)(e,2),t=r[0],s=r[1],o=(0,n.useState)(!1),c=(0,d.Z)(o,2),i=c[0],a=c[1],p=(0,n.useState)(null),h=(0,d.Z)(p,2),x=h[0],j=h[1],f=u().customErrorThrow,v=function(e){if(e){!/[a-z]/.test(e)||/[A-Z]/.test(e)||/[0-9]/.test(e)?a(!0):a(!1)}else a(!1)},y=function(){var e=(0,Z.Z)(T().mark((function e(){var r,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:"/eh",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{text:t}},e.prev=1,e.next=4,D(r);case 4:s(""),j(null),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n=f(e.t0),j(n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"error handle"}),(0,l.jsx)("p",{children:"＊小文字のアルファベット以外を入れるとフロント側でバリエーションエラーをスローする"}),(0,l.jsx)("p",{children:"＊許可された文字が少なくとも１つ含まれていないとサーバーにリクエストしてもエラーを返す"}),(0,l.jsx)("p",{children:"@許可するアルファベットは、r,e,a,c,t の５つ"})]}),(0,l.jsxs)("form",{children:[(0,l.jsx)("input",{type:"text",style:{padding:"3px 0"},value:t,onChange:function(e){return r=e.target.value,s(r),void v(r);var r}}),(0,l.jsx)("button",{type:"button",onClick:y,children:"リクエスト"})]}),(0,l.jsx)("div",{style:i?{background:"red"}:{background:"none"},children:i?"**ERROR** 小文字のアルファベット以外が入力されました":""}),(0,l.jsx)("div",{children:x&&(0,l.jsx)("h2",{style:{color:"red"},children:x.message})})]})};const R=function(){return(0,l.jsxs)("div",{children:[(0,l.jsx)(v,{}),(0,l.jsx)(o.rU,{to:"/hooks",style:{padding:"20px"},children:"hooks"}),(0,l.jsx)(o.rU,{to:"/eh",style:{padding:"20px"},children:"error handle"}),(0,l.jsx)(o.rU,{to:"/",style:{padding:"20px"},children:"home"}),(0,l.jsx)("hr",{}),(0,l.jsxs)(i.Z5,{children:[(0,l.jsx)(i.AW,{path:"/",element:(0,l.jsx)("h2",{children:"select component"})}),(0,l.jsx)(i.AW,{path:"/hooks",element:(0,l.jsx)(P,{})}),(0,l.jsx)(i.AW,{path:"/eh",element:(0,l.jsx)(M,{})})]})]})};s.render((0,l.jsx)(f,{children:(0,l.jsx)(o.VK,{children:(0,l.jsx)(c.ErrorBoundary,{FallbackComponent:p,children:(0,l.jsx)(R,{})})})}),document.getElementById("app"))},5439:(e,r,t)=>{e.exports=t.p+"images/509b552d440d102d0154.png"}},e=>{e.O(0,[200],(()=>{return r=6367,e(e.s=r);var r}));e.O()}]);