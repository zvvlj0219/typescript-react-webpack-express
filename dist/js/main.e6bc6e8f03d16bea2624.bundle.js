"use strict";(self.webpackChunktypescript_react_webpack_express=self.webpackChunktypescript_react_webpack_express||[]).push([[179],{6367:(e,r,t)=>{var n=t(7294),s=t(3935),o=t(9711),c=t(5800),i=t(6974),u=t(8152);const a=(0,n.createContext)({hasError:!1,errorMessage:null,error:null,setContextError:function(){return{}},setCotextErrorDone:function(){return{}}});const l=function(){var e=(0,n.useState)(""),r=(0,u.Z)(e,2),t=r[0],s=r[1],o=(0,n.useContext)(a),c=o.setContextError;if(void 0===o)throw new Error("useError must be used within a ErrorProvider");return{context:o,customErrorThrow:function(e){return e.response&&400===e.response.status?{message:e.response.data.message}:(e instanceof Error&&(c(e.message,e),s(e.message)),{message:t})}}};var d=t(5893);const h=function(e){var r=e.error,t=e.resetErrorBoundary,s=l().context,o=s.hasError,c=s.setContextError,u=s.setCotextErrorDone,a=(0,i.s0)();return(0,n.useEffect)((function(){c(r.message,r)}),[c,r]),o&&window.location.reload(),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Error Message"}),(0,d.jsx)("h2",{children:r.name}),(0,d.jsx)("h2",{children:r.message}),(0,d.jsx)("button",{onClick:function(){t(),u(),a("/")},type:"button",children:"Try again"})]})};var p=t(5697),x=t.n(p),j=function(e){var r=e.children,t=(0,n.useState)(!1),s=(0,u.Z)(t,2),o=s[0],c=s[1],i=(0,n.useState)(null),l=(0,u.Z)(i,2),h=l[0],p=l[1],x=(0,n.useState)(null),j=(0,u.Z)(x,2),f=j[0],v=j[1],y=function(e,r){p(e),v(r),c(!0)},b=function(){p(null),v(null),c(!1)},g=(0,n.useMemo)((function(){return{hasError:o,errorMessage:h,error:f,setContextError:y,setCotextErrorDone:b}}),[o,h,f]);return(0,d.jsx)(a.Provider,{value:g,children:r})};j.defaultProps={children:{}},j.propTypes={children:x().node};const f=j;const v=function(){return(0,d.jsx)("h1",{children:"typescript react weback express v4/12!!"})};var y=t(4942),b=t(5439);function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){(0,y.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var E="INCREMENT_COUNT",O="DECREMENT_COUNT",w=function(e,r){switch(r.type){case E:return{count:e.count+1};case O:return{count:e.count-2};default:return e}},C={count:0},k=(0,n.createContext)({});const P=function(){var e=(0,n.useReducer)(w,C),r=(0,u.Z)(e,2),t=r[0],s=r[1],o={width:"60px",height:"30px",fontSize:"20px"},c=(0,n.useMemo)((function(){return{state:t,dispatch:s}}),[t]);return(0,d.jsx)("div",{children:(0,d.jsxs)(k.Provider,{value:c,children:[(0,d.jsx)("h1",{children:"hooks"}),(0,d.jsx)("button",{type:"button",style:m(m({},o),{},{marginLeft:"30px"}),onClick:function(){s({type:E})},children:"+"}),(0,d.jsx)("p",{children:t.count}),(0,d.jsx)("button",{type:"button",style:o,onClick:function(){s({type:O})},children:"-"}),(0,d.jsx)("hr",{}),(0,d.jsx)("img",{src:b,alt:""})]})})};var Z=t(5861),S=t(7757),T=t.n(S),D=t(9669),_=t.n(D);const M=function(){var e=(0,n.useState)(""),r=(0,u.Z)(e,2),t=r[0],s=r[1],o=(0,n.useState)(!1),c=(0,u.Z)(o,2),i=c[0],a=c[1],h=(0,n.useState)(null),p=(0,u.Z)(h,2),x=p[0],j=p[1],f=l().customErrorThrow,v=function(e){if(e){!/[a-z]/.test(e)||/[A-Z]/.test(e)||/[0-9]/.test(e)?a(!0):a(!1)}else a(!1)},y=function(){var e=(0,Z.Z)(T().mark((function e(){var r,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:"http://localhost:5000/api/eh",method:"POST",data:{text:t}},e.prev=1,e.next=4,_()(r);case 4:s(""),j(null),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n=f(e.t0),j(n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:"error handle"}),(0,d.jsx)("p",{children:"＊小文字のアルファベット以外を入れるとフロント側でバリエーションエラーをスローする"}),(0,d.jsx)("p",{children:"＊許可された文字が少なくとも１つ含まれていないとサーバーにリクエストしてもエラーを返す"}),(0,d.jsx)("p",{children:"@許可するアルファベットは、r,e,a,c,t の５つ"})]}),(0,d.jsxs)("form",{children:[(0,d.jsx)("input",{type:"text",style:{padding:"3px 0"},value:t,onChange:function(e){return r=e.target.value,s(r),void v(r);var r}}),(0,d.jsx)("button",{type:"button",onClick:y,children:"リクエスト"})]}),(0,d.jsx)("div",{style:i?{background:"red"}:{background:"none"},children:i?"**ERROR** 小文字のアルファベット以外が入力されました":""}),(0,d.jsx)("div",{children:x&&(0,d.jsx)("h2",{style:{color:"red"},children:x.message})})]})};const R=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(v,{}),(0,d.jsx)(o.rU,{to:"/hooks",style:{padding:"20px"},children:"hooks"}),(0,d.jsx)(o.rU,{to:"/eh",style:{padding:"20px"},children:"error handle"}),(0,d.jsx)(o.rU,{to:"/",style:{padding:"20px"},children:"home"}),(0,d.jsx)("hr",{}),(0,d.jsxs)(i.Z5,{children:[(0,d.jsx)(i.AW,{path:"/",element:(0,d.jsx)("h2",{children:"select component"})}),(0,d.jsx)(i.AW,{path:"/hooks",element:(0,d.jsx)(P,{})}),(0,d.jsx)(i.AW,{path:"/eh",element:(0,d.jsx)(M,{})})]})]})};s.render((0,d.jsx)(f,{children:(0,d.jsx)(o.VK,{children:(0,d.jsx)(c.ErrorBoundary,{FallbackComponent:h,children:(0,d.jsx)(R,{})})})}),document.getElementById("app"))},5439:(e,r,t)=>{e.exports=t.p+"images/509b552d440d102d0154.png"}},e=>{e.O(0,[200],(()=>{return r=6367,e(e.s=r);var r}));e.O()}]);